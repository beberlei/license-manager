{% extends "DoctrineLicenseManagerBundle::layout.html.twig" %}

{% block content %}
<div class="row">
    <div class="span12">
        <h2>Create Project</h2>
    </div>
</div>


<div class="row">
    <div class="span8">
        <form class="form-horizontal" method="post" action="{{ path('licenses_project_create') }}">
            {{ form_widget(form) }}

            <p align="center">
                <button class="btn btn-primary">Create Project</button>
            </p>
        </form>
    </div>

    <div class="span4">
        <p>We are currently activating license switch projects only after a manual review. This can take some days, we apologize for any inconveniences. Only after the approval the repository is imported and emails are sent to all the committers.</p>
    </div>
</div>

<script type="text/javascript" language="javascript">
jQuery(document).ready(function() {
    jquery('#create_project_githubUrl').append('<a href="#" id="add-url">Add Url</a>');
    jQuery('#add-url').click(function() {
        var urlList = jQuery('#create_project_githubUrl');

        // grab the prototype template
        var newWidget = urlList.attr('data-prototype');
        // replace the "__name__" used in the id and name of the prototype
        // with a number that's unique to your emails
        // end name attribute looks like name="contact[emails][2]"
        cnt = urlList.find('input').length();
        newWidget = newWidget.replace(/__name__/g, cnt);

        // create a new list element and add it to the list
        var newLi = jQuery('<li></li>').html(newWidget);
        newLi.appendTo(jQuery('#create_project_githubUrl'));

        return false;
    });
});
</script>
{% endblock %}
